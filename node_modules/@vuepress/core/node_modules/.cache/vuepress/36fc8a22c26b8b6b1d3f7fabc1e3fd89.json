{"remainingRequest":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/FeedbackFormToast.vue?vue&type=script&scoped=true&lang=js&","dependencies":[{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/FeedbackFormToast.vue","mtime":1656474813996},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js","mtime":1654776219463},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js","mtime":1654776219582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmZ1bmN0aW9uIGNyZWF0ZVJlYXNvbnMoKSB7CiAgcmV0dXJuIFt7CiAgICB2YWx1ZTogIkEiLAogICAgZGVzYzogIuayoeaJvuWIsOaDs+S6huino+eahOS/oeaBryIKICB9LCB7CiAgICB2YWx1ZTogIkIiLAogICAgZGVzYzogIuatpemqpOivtOaYjuS4jea4heaZsC/nnIvkuI3mh4IiCiAgfSwgewogICAgdmFsdWU6ICJDIiwKICAgIGRlc2M6ICLlhoXlrrnmnInplJkiCiAgfSwgewogICAgdmFsdWU6ICJEIiwKICAgIGRlc2M6ICLlhbbku5YiCiAgfV07Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICJnb29kIjsKICAgICAgfSwKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsdWUpIHsKICAgICAgICByZXR1cm4gWyJnb29kIiwgImJhZCJdLmluY2x1ZGVzKHZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc3R5bGVzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobmV3VmFsKSB7CiAgICAgIG5ld1ZhbCAmJiB0aGlzLnJlc2V0U3RhdGVzKCk7CiAgICB9LAogICAgdHlwZTogZnVuY3Rpb24gdHlwZSgpIHsKICAgICAgdGhpcy5yZXNldFN0YXRlcygpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlYXNvbnM6IGNyZWF0ZVJlYXNvbnMoKSwKICAgICAgc2VsZWN0ZWRSZWFzb25zOiBbXSwKICAgICAgY3VzdG9tUmVhc29uOiAiIiwKICAgICAgZm9jdXNlZDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGV4dGFyZWFQbGFjZWhvbGRlcjogZnVuY3Rpb24gdGV4dGFyZWFQbGFjZWhvbGRlcigpIHsKICAgICAgdmFyIG1hcCA9IHsKICAgICAgICBnb29kOiAi5L2g55qE5bu66K6u5Lya6K6p5oiR5Lus5YGa55qE5pu05aW9Li4uIiwKICAgICAgICBiYWQ6ICLmj4/ov7DlhbfkvZPpl67popguLi4iCiAgICAgIH07CiAgICAgIHJldHVybiBtYXBbdGhpcy50eXBlXSB8fCAiIjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGhlbHBmdWw6IHRoaXMudHlwZSA9PT0gImdvb2QiLAogICAgICAgIGRvY1RpdGxlOiB0aGlzLiRwYWdlLnRpdGxlLAogICAgICAgIGRvY1VybDogd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgICAgICAgY3VzdG9tUmVhc29uOiB0aGlzLnhzc0NoZWNrKHRoaXMuY3VzdG9tUmVhc29uKQogICAgICB9OwoKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gImJhZCIpIHsKICAgICAgICBwYXJhbXMucmVhc29uTGlzdCA9IHRoaXMuc2VsZWN0ZWRSZWFzb25zOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCJzdWNjZXNzIiwgcGFyYW1zKTsKICAgIH0sCiAgICByZXNldFN0YXRlczogZnVuY3Rpb24gcmVzZXRTdGF0ZXMoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRSZWFzb25zID0gW107CiAgICAgIHRoaXMuY3VzdG9tUmVhc29uID0gIiI7CiAgICB9LAogICAgeHNzQ2hlY2s6IGZ1bmN0aW9uIHhzc0NoZWNrKHN0ciwgcmVnKSB7CiAgICAgIHZhciBtYXAgPSB7CiAgICAgICAgIjwiOiAiJmx0OyIsCiAgICAgICAgIiYiOiAiJmFtcDsiLAogICAgICAgICciJzogIiZxdW90OyIsCiAgICAgICAgIj4iOiAiJmd0OyIsCiAgICAgICAgIiciOiAiJiMzOTsiCiAgICAgIH07CiAgICAgIHJldHVybiBzdHIgPyBzdHIucmVwbGFjZShyZWcgfHwgL1smPCI+J10oPzooYW1wfGx0fHF1b3R8Z3R8IzM5fG5ic3B8I1xkKyk7KT8vZywgZnVuY3Rpb24gKCQwLCAkMSkgewogICAgICAgIHJldHVybiAkMSA/ICQwIDogbWFwWyQwXTsKICAgICAgfSkgOiAiIjsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;EACA,QACA;IACAA,UADA;IAEAC;EAFA,CADA,EAKA;IACAD,UADA;IAEAC;EAFA,CALA,EASA;IACAD,UADA;IAEAC;EAFA,CATA,EAaA;IACAD,UADA;IAEAC;EAFA,CAbA;AAkBA;;AAEA;EACAC;IACAC;MACAA,YADA;MAAA,+BAEA;QACA;MACA,CAJA;MAKAC,SALA,qBAKAJ,KALA,EAKA;QACA;MACA;IAPA,CADA;IAUAA;MACAG,aADA;MAAA,+BAEA;QACA;MACA;IAJA,CAVA;IAgBAE;MACAF,YADA;MAAA,+BAEA;QACA;MACA;IAJA;EAhBA,CADA;EAwBAG;IACAN,KADA,iBACAO,MADA,EACA;MACAA;IACA,CAHA;IAIAJ,IAJA,kBAIA;MACA;IACA;EANA,CAxBA;EAgCAK,IAhCA,kBAgCA;IACA;MACAC,wBADA;MAEAC,mBAFA;MAGAC,gBAHA;MAIAC;IAJA;EAMA,CAvCA;EAwCAC;IACAC,mBADA,iCACA;MACA;QACAC,uBADA;QAEAC;MAFA;MAIA;IACA;EAPA,CAxCA;EAiDAC;IACAC,MADA,oBACA;MACA;QACAC,6BADA;QAEAC,0BAFA;QAGAC,4BAHA;QAIAV;MAJA;;MAOA;QACAW;MACA;;MAEA;IACA,CAdA;IAeAC,WAfA,yBAeA;MACA;MACA;IACA,CAlBA;IAmBAC,QAnBA,oBAmBAC,GAnBA,EAmBAC,GAnBA,EAmBA;MACA;QACA,WADA;QAEA,YAFA;QAGA,aAHA;QAIA,WAJA;QAKA;MALA;MAOA,aACAD,YACAC,qDADA,EAEA;QACA;MACA,CAJA,CADA,GAOA,EAPA;IAQA;EAnCA;AAjDA","names":["value","desc","props","type","validator","styles","watch","newVal","data","reasons","selectedReasons","customReason","focused","computed","textareaPlaceholder","good","bad","methods","submit","helpful","docTitle","docUrl","params","resetStates","xssCheck","str","reg"],"sourceRoot":"docs/.vuepress/theme/components","sources":["FeedbackFormToast.vue"],"sourcesContent":["<template>\n  <div v-if=\"value\" class=\"feedback-toast-container\" :style=\"styles\">\n    <div class=\"title\">\n      <div v-if=\"type === 'good'\">感谢反馈！请问还有其他建议吗？</div>\n      <div v-else-if=\"type === 'bad'\">\n        <span class=\"highlight\">*</span><span>你是否遇到以下问题？</span>\n      </div>\n    </div>\n\n    <div class=\"content\">\n      <div class=\"reasons\" v-if=\"type === 'bad'\">\n        <div class=\"option\" v-for=\"reason in reasons\" :key=\"reason.value\">\n          <input\n            type=\"checkbox\"\n            :id=\"reason.value\"\n            :value=\"reason.desc\"\n            v-model=\"selectedReasons\"\n            class=\"checkbox\"\n          />\n          <label :for=\"reason.value\">{{ reason.desc }}</label>\n        </div>\n      </div>\n\n      <textarea\n        class=\"textarea\"\n        :placeholder=\"textareaPlaceholder\"\n        v-model=\"customReason\"\n        :class=\"{ focused: focused }\"\n        @focus=\"focused = true\"\n        @blur=\"focused = false\"\n      ></textarea>\n    </div>\n\n    <div class=\"feedback-footer\">\n      <div class=\"submit\" @click=\"submit\">提交</div>\n      <div class=\"tips\">\n        如果遇到其他问题，立即<a\n          href=\"https://forum.authing.cn/\"\n          target=\"_blank\"\n          >联系我们</a\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script scoped>\nfunction createReasons() {\n  return [\n    {\n      value: \"A\",\n      desc: \"没找到想了解的信息\"\n    },\n    {\n      value: \"B\",\n      desc: \"步骤说明不清晰/看不懂\"\n    },\n    {\n      value: \"C\",\n      desc: \"内容有错\"\n    },\n    {\n      value: \"D\",\n      desc: \"其他\"\n    }\n  ];\n}\n\nexport default {\n  props: {\n    type: {\n      type: String,\n      default() {\n        return \"good\";\n      },\n      validator(value) {\n        return [\"good\", \"bad\"].includes(value);\n      }\n    },\n    value: {\n      type: Boolean,\n      default() {\n        return false;\n      }\n    },\n    styles: {\n      type: String,\n      default() {\n        return \"\";\n      }\n    }\n  },\n  watch: {\n    value(newVal) {\n      newVal && this.resetStates();\n    },\n    type() {\n      this.resetStates();\n    }\n  },\n  data() {\n    return {\n      reasons: createReasons(),\n      selectedReasons: [],\n      customReason: \"\",\n      focused: false\n    };\n  },\n  computed: {\n    textareaPlaceholder() {\n      const map = {\n        good: \"你的建议会让我们做的更好...\",\n        bad: \"描述具体问题...\"\n      };\n      return map[this.type] || \"\";\n    }\n  },\n  methods: {\n    submit() {\n      const params = {\n        helpful: this.type === \"good\",\n        docTitle: this.$page.title,\n        docUrl: window.location.href,\n        customReason: this.xssCheck(this.customReason)\n      };\n\n      if (this.type === \"bad\") {\n        params.reasonList = this.selectedReasons;\n      }\n\n      this.$emit(\"success\", params);\n    },\n    resetStates() {\n      this.selectedReasons = [];\n      this.customReason = \"\";\n    },\n    xssCheck(str, reg) {\n      const map = {\n        \"<\": \"&lt;\",\n        \"&\": \"&amp;\",\n        '\"': \"&quot;\",\n        \">\": \"&gt;\",\n        \"'\": \"&#39;\"\n      };\n      return str\n        ? str.replace(\n            reg || /[&<\">'](?:(amp|lt|quot|gt|#39|nbsp|#\\d+);)?/g,\n            ($0, $1) => {\n              return $1 ? $0 : map[$0];\n            }\n          )\n        : \"\";\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.feedback-toast-container\n  position absolute\n  z-index 10\n  width 352px\n  left 0\n  top 0\n  background #fff\n  border 1px solid #E5E6EB\n  box-shadow 0px 16px 32px -10px rgba(4, 24, 115, 0.1)\n  border-radius 4px\n  padding 24px 16px\n  box-sizing border-box\n  .title\n    margin-bottom 20px\n    font-weight 500\n    font-size 14px\n    line-height 22px\n    color #000\n    .highlight\n      padding-right 10px\n      box-sizing border-box\n      color #E8353E\n  .content\n    margin-bottom 16px\n    .reasons\n      margin-bottom 16px\n      .option\n        display flex\n        align-items center\n        margin-bottom 9px\n        line-height 22px\n        font-size 14px\n        color #1D2129\n        input[type=\"checkbox\"]\n          position relative\n          margin-right 8px\n          &:focus\n            outline none\n            border none\n          &::before\n            position absolute\n            topp 0\n            left 0\n            width 100%\n            height 100%\n            content \"\"\n            background #FFFFFF\n            border 1px solid #E5E6EB\n            border-radius 2px\n          &:checked::before\n            position absolute\n            top 0\n            left 0\n            content \"\\2713\"\n            display flex\n            align-items center\n            justify-content center\n            background-color #fff\n            width 100%\n            border 1px solid #EFEFEF\n            color #fff\n            font-size 12px\n            background-color #165DFF\n    .textarea\n      max-width 320px\n      width 320px\n      height 90px\n      left 16px\n      top 61px\n      padding 5px 12px\n      box-sizing border-box\n      background #F2F3F5\n      border-radius 2px\n      border none\n      color #1d2129\n      resize none\n      border 1px solid #F2F3F5\n      font-size 14px\n      &:focus\n        outline none\n        border none\n      &.focused\n        background-color #fff\n        border 1px solid #165DFF\n\n  .feedback-footer\n    display flex\n    flex-direction column\n    align-items flex-end\n    .submit\n      margin-bottom 16px\n      width 65px\n      height 28px\n      text-align center\n      line-height 28px\n      background #215AE5\n      font-size 14px\n      color #fff\n      border-radius 4px\n      cursor pointer\n    .tips\n      font-size 12px\n      line-height 20px\n      color #86909C\n</style>\n"]}]}