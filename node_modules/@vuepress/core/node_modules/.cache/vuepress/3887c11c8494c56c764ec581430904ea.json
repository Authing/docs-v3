{"remainingRequest":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/SidebarSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/SidebarSearch.vue","mtime":1656474814001},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js","mtime":1654776219463},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js","mtime":1654776219582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtYXRjaFF1ZXJ5IGZyb20gIkB0aGVtZS91dGlsL21hdGNoUXVlcnkiOwppbXBvcnQgeyB0cmFuc2Zvcm1JbnRlcnBvbGF0aW9uIH0gZnJvbSAiQHRoZW1lL3V0aWwiOwoKLyogZ2xvYmFsIFNFQVJDSF9NQVhfU1VHR0VTVElPTlMsIFNFQVJDSF9QQVRIUywgU0VBUkNIX0hPVEtFWVMgKi8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTaWRlYmFyU2VhcmNoIiwKCiAgcHJvcHM6IHsKICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcsCiAgICBpdGVtczogQXJyYXkKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6ICIiLAogICAgICBmb2N1c2VkOiBmYWxzZSwKICAgICAgZm9jdXNJbmRleDogMCwKICAgICAgcGxhdExpbmtzOiBbXQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IHsKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLnF1ZXJ5ID0gW107CiAgICAgICAgdGhpcy5jYWxjTGlua3MoKTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dTdWdnZXN0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuZm9jdXNlZCAmJiB0aGlzLnN1Z2dlc3Rpb25zICYmIHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoOwogICAgfSwKCiAgICBzdWdnZXN0aW9ucygpIHsKICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLnBsYXRMaW5rcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmNhbGNMaW5rcygpOwogICAgICB9CiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGxhdExpbmtzLmZpbHRlcihpdGVtID0+CiAgICAgICAgaXRlbS5rZXl3b3Jkcy5pbmNsdWRlcyhxdWVyeSkKICAgICAgKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCgogICAgLy8gbWFrZSBzdWdnZXN0aW9ucyBhbGlnbiByaWdodCB3aGVuIHRoZXJlIGFyZSBub3QgZW5vdWdoIGl0ZW1zCiAgICBhbGlnblJpZ2h0KCkgewogICAgICBjb25zdCBuYXZDb3VudCA9ICh0aGlzLiRzaXRlLnRoZW1lQ29uZmlnLm5hdiB8fCBbXSkubGVuZ3RoOwogICAgICBjb25zdCByZXBvID0gdGhpcy4kc2l0ZS5yZXBvID8gMSA6IDA7CiAgICAgIHJldHVybiBuYXZDb3VudCArIHJlcG8gPD0gMjsKICAgIH0KICB9LAoKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMub25Ib3RrZXkpOwogIH0sCgogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgdGhpcy5vbkhvdGtleSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgY2FsY0xpbmtzKCkgewogICAgICBjb25zdCByZXN1bHQgPSBbXTsKICAgICAgZnVuY3Rpb24gY2FsY0xpbmtzV2l0aENoaWxkcmVuKGl0ZW1zKSB7CiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGlmIChpdGVtLnBhdGgpIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aCwKICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSwKICAgICAgICAgICAgICBrZXl3b3JkczogYCR7aXRlbS5wYXRoCiAgICAgICAgICAgICAgICAuc3BsaXQoIi8iKQogICAgICAgICAgICAgICAgLnBvcCgpCiAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKX0ke2l0ZW0udGl0bGUudG9Mb3dlckNhc2UoKX1gLAogICAgICAgICAgICAgIGRhdGFJbmRleDogaXRlbS5kYXRhSW5kZXgKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgY2FsY0xpbmtzV2l0aENoaWxkcmVuKGl0ZW0uY2hpbGRyZW4pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGNhbGNMaW5rc1dpdGhDaGlsZHJlbih0aGlzLml0ZW1zKTsKICAgICAgdGhpcy5wbGF0TGlua3MgPSByZXN1bHQ7CiAgICB9LAoKICAgIG9uSG90a2V5KGV2ZW50KSB7CiAgICAgIGlmICgKICAgICAgICBldmVudC5zcmNFbGVtZW50ID09PSBkb2N1bWVudC5ib2R5ICYmCiAgICAgICAgU0VBUkNIX0hPVEtFWVMuaW5jbHVkZXMoZXZlbnQua2V5KQogICAgICApIHsKICAgICAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgfSwKCiAgICBvblVwKCkgewogICAgICBpZiAodGhpcy5zaG93U3VnZ2VzdGlvbnMpIHsKICAgICAgICBpZiAodGhpcy5mb2N1c0luZGV4ID4gMCkgewogICAgICAgICAgdGhpcy5mb2N1c0luZGV4LS07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZm9jdXNJbmRleCA9IHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoIC0gMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgb25Eb3duKCkgewogICAgICBpZiAodGhpcy5zaG93U3VnZ2VzdGlvbnMpIHsKICAgICAgICBpZiAodGhpcy5mb2N1c0luZGV4IDwgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxKSB7CiAgICAgICAgICB0aGlzLmZvY3VzSW5kZXgrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb2N1c0luZGV4ID0gMDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgZ28oaSkgewogICAgICBpZiAoIXRoaXMuc2hvd1N1Z2dlc3Rpb25zKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoaXMuJGV2ZW50QnVzLiRlbWl0KCdvbkNoYW5nZUluZGV4JywgdGhpcy5zdWdnZXN0aW9uc1tpXS5kYXRhSW5kZXgpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuc3VnZ2VzdGlvbnNbaV0ucGF0aCk7CiAgICAgIHRoaXMucXVlcnkgPSAiIjsKICAgICAgdGhpcy5mb2N1c0luZGV4ID0gMDsKICAgIH0sCgogICAgZm9jdXMoaSkgewogICAgICB0aGlzLmZvY3VzSW5kZXggPSBpOwogICAgfSwKCiAgICB1bmZvY3VzKCkgewogICAgICB0aGlzLmZvY3VzSW5kZXggPSAtMTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["SidebarSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"SidebarSearch.vue","sourceRoot":"docs/.vuepress/theme/components","sourcesContent":["<template>\n  <div class=\"authing-search-box\">\n    <input\n      ref=\"input\"\n      aria-label=\"Search\"\n      :value=\"query\"\n      :class=\"{ focused: focused }\"\n      :placeholder=\"placeholder\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      @input=\"query = $event.target.value\"\n      @focus=\"focused = true\"\n      @keyup.enter=\"go(focusIndex)\"\n      @keyup.up=\"onUp\"\n      @keyup.down=\"onDown\"\n      @blur=\"focused = false\"\n    />\n    <div v-if=\"showSuggestions\" class=\"suggestions\" @mouseleave=\"unfocus\">\n      <ul>\n        <li\n          v-for=\"(s, i) in suggestions\"\n          :key=\"i\"\n          class=\"suggestion\"\n          :class=\"{ focused: i === focusIndex }\"\n          @mousedown=\"go(i)\"\n          @mouseenter=\"focus(i)\"\n        >\n          <a :href=\"s.path\" @click.prevent>\n            <span class=\"page-title\">{{ s.title || s.path }}</span>\n            <span v-if=\"s.header\" class=\"header\"\n              >&gt; {{ s.header.title }}</span\n            >\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport matchQuery from \"@theme/util/matchQuery\";\nimport { transformInterpolation } from \"@theme/util\";\n\n/* global SEARCH_MAX_SUGGESTIONS, SEARCH_PATHS, SEARCH_HOTKEYS */\nexport default {\n  name: \"SidebarSearch\",\n\n  props: {\n    placeholder: String,\n    items: Array\n  },\n\n  data() {\n    return {\n      query: \"\",\n      focused: false,\n      focusIndex: 0,\n      platLinks: []\n    };\n  },\n  watch: {\n    $route: {\n      handler() {\n        this.query = [];\n        this.calcLinks();\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n\n  computed: {\n    showSuggestions() {\n      return this.focused && this.suggestions && this.suggestions.length;\n    },\n\n    suggestions() {\n      const query = this.query.trim().toLowerCase();\n      if (!query) {\n        return;\n      }\n      if (this.platLinks.length === 0) {\n        this.calcLinks();\n      }\n      const result = this.platLinks.filter(item =>\n        item.keywords.includes(query)\n      );\n      return result;\n    },\n\n    // make suggestions align right when there are not enough items\n    alignRight() {\n      const navCount = (this.$site.themeConfig.nav || []).length;\n      const repo = this.$site.repo ? 1 : 0;\n      return navCount + repo <= 2;\n    }\n  },\n\n  mounted() {\n    document.addEventListener(\"keydown\", this.onHotkey);\n  },\n\n  beforeDestroy() {\n    document.removeEventListener(\"keydown\", this.onHotkey);\n  },\n\n  methods: {\n    calcLinks() {\n      const result = [];\n      function calcLinksWithChildren(items) {\n        items.forEach(item => {\n          if (item.path) {\n            result.push({\n              path: item.path,\n              title: item.title,\n              keywords: `${item.path\n                .split(\"/\")\n                .pop()\n                .toLowerCase()}${item.title.toLowerCase()}`,\n              dataIndex: item.dataIndex\n            });\n          }\n          if (item.children && item.children.length > 0) {\n            calcLinksWithChildren(item.children);\n          }\n        });\n      }\n      calcLinksWithChildren(this.items);\n      this.platLinks = result;\n    },\n\n    onHotkey(event) {\n      if (\n        event.srcElement === document.body &&\n        SEARCH_HOTKEYS.includes(event.key)\n      ) {\n        this.$refs.input.focus();\n        event.preventDefault();\n      }\n    },\n\n    onUp() {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--;\n        } else {\n          this.focusIndex = this.suggestions.length - 1;\n        }\n      }\n    },\n\n    onDown() {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++;\n        } else {\n          this.focusIndex = 0;\n        }\n      }\n    },\n\n    go(i) {\n      if (!this.showSuggestions) {\n        return;\n      }\n      // this.$eventBus.$emit('onChangeIndex', this.suggestions[i].dataIndex)\n      this.$router.push(this.suggestions[i].path);\n      this.query = \"\";\n      this.focusIndex = 0;\n    },\n\n    focus(i) {\n      this.focusIndex = i;\n    },\n\n    unfocus() {\n      this.focusIndex = -1;\n    }\n  }\n};\n</script>\n"]}]}