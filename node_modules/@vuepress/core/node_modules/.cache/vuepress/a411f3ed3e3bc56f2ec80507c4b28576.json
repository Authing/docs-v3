{"remainingRequest":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/global-components/StackSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/global-components/StackSelector.vue","mtime":1656474814002},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js","mtime":1654776219463},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js","mtime":1654776219582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy96aGFveWltaW5nL0Rlc2t0b3AvZ2l0aHViL2RvY3MtdjMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy96aGFveWltaW5nL0Rlc2t0b3AvZ2l0aHViL2RvY3MtdjMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3poYW95aW1pbmcvRGVza3RvcC9naXRodWIvZG9jcy12My9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IENPTU1PTl9OQU1FX1RPX0ZBTkNZX05BTUUsIGljb25pZnkgfSBmcm9tICdAdGhlbWUvdXRpbC9mcmFtZXdvcmtzJzsKaW1wb3J0IEljb25Gb250IGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL0ljb25Gb250L2luZGV4LnZ1ZSc7CmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJzsKaW1wb3J0IGtleUJ5IGZyb20gJ2xvZGFzaC9rZXlCeSc7Ci8qKgogKiBUT0RPLCDnjrDlnKjov5nnp43lgZrms5Xml6Dms5Ugc3NyCiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTdGFja1NlbGVjdG9yJywKICBjb21wb25lbnRzOiB7CiAgICBJY29uRm9udDogSWNvbkZvbnQKICB9LAogIHByb3BzOiB7CiAgICBzbmlwcGV0OiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIHNlbGVjdExhYmVsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiAn5qGG5p625oyH5byVJwogICAgfSwKICAgICJkZWZhdWx0IjogU3RyaW5nLAogICAgb3JkZXI6IEFycmF5CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb2Zmc2V0RnJvbVZpZXdwb3J0OiBudWxsLAogICAgICBoYXNGb2N1czogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTY3JvbGw6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHsKICAgICAgLy8gYmVmb3JlVXBkYXRlZCB3YXMgc29tZWhvdyBBRlRFUiB0aGUgdmlld3BvcnQgb2Zmc2V0cyB3ZXJlIGNhbGN1bGF0ZWQgZm9yIG5ldyBjb250ZW50CiAgICAgIC8vIHRodXMgd2UgbmVlZCB0byBzYXZlIHRoaXMgZnJvbSBiZWZvcmUgdGhleSBzd2FwIHRhYnMgd2l0aGluIHRoZSBTdGFja1NlbGVjdG9yCiAgICAgIHRoaXMub2Zmc2V0RnJvbVZpZXdwb3J0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOwogICAgfSwKICAgIGhhbmRsZUlucHV0OiBmdW5jdGlvbiBoYW5kbGVJbnB1dCh2YWx1ZSkgewogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnlbdGhpcy5zbmlwcGV0XSA9PT0gdmFsdWUuZnJhbWV3b3JrKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmhhc0ZvY3VzID0gdHJ1ZTsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgIHF1ZXJ5OiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuJHJvdXRlLnF1ZXJ5KSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGhpcy5zbmlwcGV0LCB2YWx1ZS5mcmFtZXdvcmspKQogICAgICB9KTsKICAgIH0sCiAgICBnZXRGcmFtZXdvcmtJbmZvOiBmdW5jdGlvbiBnZXRGcmFtZXdvcmtJbmZvKHJlZ3VsYXJQYXRoKSB7CiAgICAgIHZhciBfcmVndWxhclBhdGgkc3BsaXQkc2wgPSByZWd1bGFyUGF0aC5zcGxpdCgnLycpLnNsaWNlKC0yKSwKICAgICAgICAgIF9yZWd1bGFyUGF0aCRzcGxpdCRzbDIgPSBfc2xpY2VkVG9BcnJheShfcmVndWxhclBhdGgkc3BsaXQkc2wsIDIpLAogICAgICAgICAgZnJhbWV3b3JrID0gX3JlZ3VsYXJQYXRoJHNwbGl0JHNsMlswXSwKICAgICAgICAgIHNuaXBwZXQgPSBfcmVndWxhclBhdGgkc3BsaXQkc2wyWzFdOwoKICAgICAgc25pcHBldCA9IHNuaXBwZXQucmVwbGFjZSgnLmh0bWwnLCAnJyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZnJhbWV3b3JrOiBmcmFtZXdvcmssCiAgICAgICAgc25pcHBldDogc25pcHBldAogICAgICB9OwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpOwogICAgfQogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBndWlkZU5hbWU6IGZ1bmN0aW9uIGd1aWRlTmFtZSgpIHsKICAgICAgcmV0dXJuIGd1aWRlRnJvbVBhdGgodGhpcy4kcm91dGUucGF0aCkuZ3VpZGVOYW1lOwogICAgfSwKICAgIC8vIGZyYW1ld29yaygpIHsKICAgIC8vICAgLy8gRGVmYXVsdCB0byBmaXJzdCBhdmFpbGFibGUgZnJhbWV3b3JrCiAgICAvLyAgIHJldHVybiBndWlkZUZyb21QYXRoKCB0aGlzLiRyb3V0ZS5wYXRoICkuZnJhbWV3b3JrIHx8IHRoaXMub3B0aW9uc1swXS5uYW1lOwogICAgLy8gfSwKICAgIC8vIHNlY3Rpb25OYW1lKCkgewogICAgLy8gICByZXR1cm4gZ3VpZGVGcm9tUGF0aCggdGhpcy4kcm91dGUucGF0aCApLnNlY3Rpb25OYW1lOwogICAgLy8gfSwKICAgIC8vIGd1aWRlKCkgewogICAgLy8gICAgcmV0dXJuIGdldEd1aWRlc0luZm8oe3BhZ2VzOiB0aGlzLiRzaXRlLnBhZ2VzfSkuYnlOYW1lW3RoaXMuZ3VpZGVOYW1lXTsKICAgIC8vIH0sCiAgICAvLyBzZWN0aW9uKCkgewogICAgLy8gICByZXR1cm4gdGhpcy5ndWlkZS5zZWN0aW9uQnlOYW1lW3RoaXMuc2VjdGlvbk5hbWVdOwogICAgLy8gfSwKICAgIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3VyclBhZ2VQYXRoID0gdGhpcy4kcGFnZS5yZWd1bGFyUGF0aDsKICAgICAgdmFyIGZyYW1ld29ya1BhZ2VzID0gdGhpcy4kc2l0ZS5wYWdlcy5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICByZXR1cm4gcGFnZS5yZWd1bGFyUGF0aC5zdGFydHNXaXRoKGN1cnJQYWdlUGF0aCk7CiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciBfdGhpcyRnZXRGcmFtZXdvcmtJbmYgPSBfdGhpcy5nZXRGcmFtZXdvcmtJbmZvKHBhZ2UucmVndWxhclBhdGgpLAogICAgICAgICAgICBmcmFtZXdvcmsgPSBfdGhpcyRnZXRGcmFtZXdvcmtJbmYuZnJhbWV3b3JrLAogICAgICAgICAgICBzbmlwcGV0ID0gX3RoaXMkZ2V0RnJhbWV3b3JrSW5mLnNuaXBwZXQ7CgogICAgICAgIHJldHVybiBDT01NT05fTkFNRV9UT19GQU5DWV9OQU1FW2ZyYW1ld29ya10gJiYgc25pcHBldCA9PT0gX3RoaXMuc25pcHBldDsKICAgICAgfSk7CiAgICAgIHZhciBub09yZGVyT3B0aW9ucyA9IGZyYW1ld29ya1BhZ2VzLm1hcChmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciBfdGhpcyRnZXRGcmFtZXdvcmtJbmYyID0gX3RoaXMuZ2V0RnJhbWV3b3JrSW5mbyhwYWdlLnJlZ3VsYXJQYXRoKSwKICAgICAgICAgICAgZnJhbWV3b3JrID0gX3RoaXMkZ2V0RnJhbWV3b3JrSW5mMi5mcmFtZXdvcmssCiAgICAgICAgICAgIHNuaXBwZXQgPSBfdGhpcyRnZXRGcmFtZXdvcmtJbmYyLnNuaXBwZXQ7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjb21wb25lbnRLZXk6IHBhZ2Uua2V5LAogICAgICAgICAgaWNvbjogaWNvbmlmeShmcmFtZXdvcmspLAogICAgICAgICAgZnJhbWV3b3JrOiBmcmFtZXdvcmssCiAgICAgICAgICBsYWJlbDogQ09NTU9OX05BTUVfVE9fRkFOQ1lfTkFNRVtmcmFtZXdvcmtdLAogICAgICAgICAgcGFnZTogcGFnZQogICAgICAgIH07CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMub3JkZXIpIHsKICAgICAgICB2YXIgb3B0TWFwID0ga2V5Qnkobm9PcmRlck9wdGlvbnMsICdmcmFtZXdvcmsnKTsKICAgICAgICByZXR1cm4gdGhpcy5vcmRlci5tYXAoZnVuY3Rpb24gKGZyYW1ld29yaykgewogICAgICAgICAgcmV0dXJuIG9wdE1hcFtmcmFtZXdvcmtdOwogICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBub09yZGVyT3B0aW9ucy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEuZnJhbWV3b3JrLmxvY2FsZUNvbXBhcmUoYi5mcmFtZXdvcmspOwogICAgICB9KTsKICAgIH0sCiAgICBzbmlwcGV0Q29tcG9uZW50S2V5OiBmdW5jdGlvbiBzbmlwcGV0Q29tcG9uZW50S2V5KCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZE9wdGlvbiAmJiB0aGlzLnNlbGVjdGVkT3B0aW9uLmNvbXBvbmVudEtleTsKICAgIH0sCiAgICBzZWxlY3RlZE9wdGlvbjogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5maW5kKGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgICAgIHJldHVybiBvcHRpb24uZnJhbWV3b3JrID09PSBfdGhpczIuZnJhbWV3b3JrOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZnJhbWV3b3JrOiBmdW5jdGlvbiBmcmFtZXdvcmsoKSB7CiAgICAgIHZhciBxdWVyeUFjdGl2ZUtleSA9IHRoaXMuJHJvdXRlLnF1ZXJ5W3RoaXMuc25pcHBldF07CiAgICAgIHZhciBkZWZhdWx0QXZ0aXZlID0gcXVlcnlBY3RpdmVLZXkgfHwgdGhpcy5kZWZhdWx0RnJhbWV3b3JrOwogICAgICB2YXIgZmlyc3RLZXkgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zWzBdICYmIHRoaXMub3B0aW9uc1swXS5mcmFtZXdvcms7CiAgICAgIHJldHVybiBxdWVyeUFjdGl2ZUtleSB8fCBkZWZhdWx0QXZ0aXZlIHx8IGZpcnN0S2V5OwogICAgfQogIH0sCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIC8vIElmIHdlIGFyZSB0aGUgU3RhY2sgU2VsZWN0b3IgdGhhdCB3YXMgZm9jdXNlZCAoY2xpY2tlZCBvbiksCiAgICAvLyBzY3JvbGwgdGhhdCB3ZSBzdGF5IGluIHRoZSBzYW1lIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydAogICAgaWYgKHRoaXMuaGFzRm9jdXMgJiYgdGhpcy5vZmZzZXRGcm9tVmlld3BvcnQpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHBvc3Rwb25lZCB0byBhbGxvdyBjaGlsZCBjb21wb25lbnRzIHRvIHJlcmVuZGVyCiAgICAgICAgd2luZG93LnNjcm9sbCgwLCBfdGhpczMuJGVsLm9mZnNldFRvcCAtIF90aGlzMy5vZmZzZXRGcm9tVmlld3BvcnQgKyA1Nyk7CiAgICAgICAgX3RoaXMzLmhhc0ZvY3VzID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AAEA;AACA;AACA;;AACA;EACAA,qBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC;MACAC;IADA,CADA;IAIAC;MACAD,YADA;MAEA;IAFA,CAJA;IAQA,iBARA;IASAE;EATA,CALA;EAgBAC,IAhBA,kBAgBA;IACA;MACAC,wBADA;MAEAC;IAFA;EAIA,CArBA;EAsBAC;IACAC,YADA,0BACA;MACA;MACA;MACA;IACA,CALA;IAMAC;MACA;QACA;MACA;;MAEA;MAEA;QACAC,uCACA,iBADA,2BAEA,YAFA,EAEAC,eAFA;MADA;IAMA,CAnBA;IAoBAC,gBApBA,4BAoBAC,WApBA,EAoBA;MACA;MAAA;MAAA;MAAA;;MACAb;MAEA;QACAc,oBADA;QAEAd;MAFA;IAIA;EA5BA,CAtBA;EAoDAe,OApDA,qBAoDA;IACA;MACAC;IACA;EACA,CAxDA;EAyDAC,SAzDA,uBAyDA;IACA;MACAD;IACA;EACA,CA7DA;EA8DAE;IACAC,SADA,uBACA;MACA;IACA,CAHA;IAIA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC,OAjBA,qBAiBA;MAAA;;MACA;MACA,sCACAC,MADA,CACA;QAAA;MAAA,CADA,EAEAA,MAFA,CAEA;QACA;QAAA;QAAA;;QAEA,OACAC,iEADA;MAGA,CARA;MAUA;QACA;QAAA;QAAA;;QAEA;UACAC,sBADA;UAEAC,wBAFA;UAGAV,oBAHA;UAIAW,2CAJA;UAKAC;QALA;MAOA,CAVA;;MAYA;QACA;QACA,kBACAC,GADA,CACA;UAAA;QAAA,CADA,EAEAN,MAFA,CAEA;UAAA;QAAA,CAFA;MAGA;;MAEA;QAAA,OACAO,sCADA;MAAA;IAGA,CAnDA;IAoDAC,mBApDA,iCAoDA;MACA;IACA,CAtDA;IAuDAC;MACAC;QAAA;;QACA,yBACA;UAAA;QAAA,CADA;MAGA;IALA,CAvDA;IA8DAjB,SA9DA,uBA8DA;MACA;MACA;MACA,eACA,4DADA;MAGA;IACA;EArEA,CA9DA;EAqIAkB,OArIA,qBAqIA;IAAA;;IACA;IACA;IACA;MACA;QACA;QACAhB;QACA;MACA,CAJA;IAKA;EACA;AA/IA","names":["name","components","IconFont","props","snippet","type","selectLabel","order","data","offsetFromViewport","hasFocus","methods","handleScroll","handleInput","query","value","getFrameworkInfo","regularPath","framework","created","window","destroyed","computed","guideName","options","filter","COMMON_NAME_TO_FANCY_NAME","componentKey","icon","label","page","map","a","snippetComponentKey","selectedOption","get","updated"],"sourceRoot":"docs/.vuepress/theme/global-components","sources":["StackSelector.vue"],"sourcesContent":["<template>\n  <div\n    class=\"stack-selector\"\n    :class=\"{\n      'with-icon': selectedOption && selectedOption.icon,\n    }\"\n    v-if=\"options.length\"\n  >\n    <div class=\"selector-control\">\n      <span class=\"instructions-label\">\n        {{ selectLabel }}\n      </span>\n\n      <nav class=\"select-dropdown\">\n        <v-select\n          :options=\"options\"\n          :value=\"selectedOption\"\n          :searchable=\"true\"\n          :multiple=\"false\"\n          :clearable=\"false\"\n          @input=\"handleInput\"\n        >\n          <template #selected-option=\"{label, icon}\">\n            <IconFont v-if=\"icon\" :type=\"icon\" /><span class=\"framework\">{{\n              label\n            }}</span>\n          </template>\n          <template #option=\"{label, componentKey, icon}\">\n            <div class=\"dropdown-item\" :key=\"componentKey\">\n              <IconFont v-if=\"icon\" :type=\"icon\" /><span class=\"framework\">{{\n                label\n              }}</span>\n            </div>\n          </template>\n        </v-select>\n      </nav>\n    </div>\n    <aside class=\"stack-content\">\n      <Content v-if=\"snippetComponentKey\" :pageKey=\"snippetComponentKey\" />\n    </aside>\n  </div>\n  <div v-else class=\"no-stack-content\">\n    No code snippets defined\n  </div>\n</template>\n\n<script>\nimport { COMMON_NAME_TO_FANCY_NAME, iconify } from '@theme/util/frameworks'\nimport IconFont from '@theme/components/IconFont/index.vue'\nimport isEqual from 'lodash/isEqual'\nimport keyBy from 'lodash/keyBy'\n\n/**\n * TODO, 现在这种做法无法 ssr\n */\nexport default {\n  name: 'StackSelector',\n  components: {\n    IconFont,\n  },\n  props: {\n    snippet: {\n      type: String,\n    },\n    selectLabel: {\n      type: String,\n      default: '框架指引',\n    },\n    default: String,\n    order: Array,\n  },\n  data() {\n    return {\n      offsetFromViewport: null,\n      hasFocus: false,\n    }\n  },\n  methods: {\n    handleScroll() {\n      // beforeUpdated was somehow AFTER the viewport offsets were calculated for new content\n      // thus we need to save this from before they swap tabs within the StackSelector\n      this.offsetFromViewport = this.$el.getBoundingClientRect().top\n    },\n    handleInput: function(value) {\n      if (this.$route.query[this.snippet] === value.framework) {\n        return\n      }\n\n      this.hasFocus = true\n\n      this.$router.replace({\n        query: {\n          ...this.$route.query,\n          [this.snippet]: value.framework,\n        },\n      })\n    },\n    getFrameworkInfo(regularPath) {\n      let [framework, snippet] = regularPath.split('/').slice(-2)\n      snippet = snippet.replace('.html', '')\n\n      return {\n        framework,\n        snippet,\n      }\n    },\n  },\n  created() {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('scroll', this.handleScroll)\n    }\n  },\n  destroyed() {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('scroll', this.handleScroll)\n    }\n  },\n  computed: {\n    guideName() {\n      return guideFromPath(this.$route.path).guideName\n    },\n    // framework() {\n    //   // Default to first available framework\n    //   return guideFromPath( this.$route.path ).framework || this.options[0].name;\n    // },\n    // sectionName() {\n    //   return guideFromPath( this.$route.path ).sectionName;\n    // },\n    // guide() {\n    //    return getGuidesInfo({pages: this.$site.pages}).byName[this.guideName];\n    // },\n    // section() {\n    //   return this.guide.sectionByName[this.sectionName];\n    // },\n    options() {\n      const currPagePath = this.$page.regularPath\n      const frameworkPages = this.$site.pages\n        .filter((page) => page.regularPath.startsWith(currPagePath))\n        .filter((page) => {\n          let { framework, snippet } = this.getFrameworkInfo(page.regularPath)\n\n          return (\n            COMMON_NAME_TO_FANCY_NAME[framework] && snippet === this.snippet\n          )\n        })\n\n      const noOrderOptions = frameworkPages.map((page) => {\n        let { framework, snippet } = this.getFrameworkInfo(page.regularPath)\n\n        return {\n          componentKey: page.key,\n          icon: iconify(framework),\n          framework,\n          label: COMMON_NAME_TO_FANCY_NAME[framework],\n          page,\n        }\n      })\n\n      if (this.order) {\n        const optMap = keyBy(noOrderOptions, 'framework')\n        return this.order\n          .map((framework) => optMap[framework])\n          .filter((item) => item)\n      }\n\n      return noOrderOptions.sort((a, b) =>\n        a.framework.localeCompare(b.framework)\n      )\n    },\n    snippetComponentKey() {\n      return this.selectedOption && this.selectedOption.componentKey\n    },\n    selectedOption: {\n      get: function() {\n        return this.options.find(\n          (option) => option.framework === this.framework\n        )\n      },\n    },\n    framework() {\n      const queryActiveKey = this.$route.query[this.snippet]\n      const defaultAvtive = queryActiveKey || this.defaultFramework\n      const firstKey =\n        this.options && this.options[0] && this.options[0].framework\n\n      return queryActiveKey || defaultAvtive || firstKey\n    },\n  },\n  updated() {\n    // If we are the Stack Selector that was focused (clicked on),\n    // scroll that we stay in the same position relative to the viewport\n    if (this.hasFocus && this.offsetFromViewport) {\n      this.$nextTick(() => {\n        // postponed to allow child components to rerender\n        window.scroll(0, this.$el.offsetTop - this.offsetFromViewport + 57)\n        this.hasFocus = false\n      })\n    }\n  },\n}\n</script>\n<style lang=\"scss\">\n.no-stack-content {\n  border: 1px solid #d66;\n  padding: 10px;\n}\n$border-color: #dfe2e5;\n$text-color: #5c6971;\n$gray-000: #fafafa;\n$small-spacing: 0.55rem;\n$accentColor: #215AE5;\n\n.stack-selector {\n  border: 1px solid $border-color;\n  margin-top: 24px;\n  border-radius: 3px;\n  &.with-icon {\n    .vs__search {\n      margin-left: 1.7rem;\n    }\n  }\n  .selector-control {\n    display: flex;\n    padding: $small-spacing 24px;\n    background: #f6f8fa;\n    border-bottom: 1px solid $border-color;\n\n    .framework {\n      padding-left: 10px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    nav {\n      flex: 1;\n      background-color: white;\n      cursor: pointer;\n      div, input {\n        cursor: pointer;\n      }\n    }\n    .instructions-label {\n      flex: 0;\n      padding: 0.65rem 20px 0.5rem 0;\n      font-weight: bold;\n      white-space: nowrap;\n    }\n    .icon {\n      width: 24px;\n      height: 24px;\n      &:before,\n      &:after {\n        font-size: 24px;\n        width: 24px;\n        height: 24px;\n        line-height: 24px;\n        display: inline-block;\n        vertical-align: middle;\n        text-align: center;\n        background-position: center;\n        background-repeat: no-repeat;\n        background-size: 20px 20px;\n      }\n    }\n    .dropdown-item {\n      display: flex;\n      position: relative;\n      top: 1px;\n      width: 100%;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      text-decoration: none;\n      color: $text-color;\n      background: transparent;\n      align-items: center;\n      width: 100%;\n      text-overflow: ellipsis;\n    }\n\n    .vs__search {\n      margin-top: 0;\n    }\n\n    .vs__dropdown-toggle {\n      min-height: 45px;\n      padding: 0.5rem;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      flex-wrap: nowrap;\n      .vs__selected-options {\n        flex-basis: auto;\n        padding: 0;\n        padding-left: 0.5rem;\n        max-width: 95%;\n        .vs__selected {\n          margin: 0;\n          padding: 0;\n          border: 0;\n        }\n      }\n    }\n\n    .vs__dropdown-menu {\n      overflow-x: hidden;\n      border-top-style: initial;\n      padding-bottom: 0px;\n      z-index: 50;\n\n      .vs__dropdown-option {\n        padding: 0.7rem 1rem;\n        border: 1px solid transparent;\n        border-bottom: 1px solid #e4e5e7;\n        width: 100%;\n        margin-bottom: 0;\n\n        &:last-child {\n          border-bottom: 1px solid transparent;\n        }\n\n        &--highlight {\n          background: inherit;\n          color: inherit;\n          border: 1px solid $accentColor;\n          box-sizing: border-box;\n\n          &:last-child {\n            border: 1px solid $accentColor;\n            border-radius: 0 0 4px 4px;\n            box-sizing: border-box;\n          }\n        }\n      }\n    }\n  }\n\n  .stack-content {\n    padding: 24px;\n\n    pre {\n      margin: 0;\n    }\n  }\n}\n</style>\n"]}]}