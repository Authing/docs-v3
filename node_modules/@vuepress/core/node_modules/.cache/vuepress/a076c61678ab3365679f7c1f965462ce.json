{"remainingRequest":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/FeedbackSmall.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/FeedbackSmall.vue","mtime":1656474813996},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js","mtime":1654776219463},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js","mtime":1654776219582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJY29uRm9udCBmcm9tICJAdGhlbWUvY29tcG9uZW50cy9JY29uRm9udC9pbmRleC52dWUiOwppbXBvcnQgeyBmZWlzaHVGZWVkYmFjayB9IGZyb20gIkB0aGVtZS91dGlsL2ZlaXNodSI7CmltcG9ydCBDaGVja2JveEdyb3VwIGZyb20gIkB0aGVtZS9jb21wb25lbnRzL0NoZWNrYm94R3JvdXAudnVlIjsKaW1wb3J0IEZlZWRiYWNrVG9hc3QgZnJvbSAnLi9GZWVkYmFja0Zvcm1Ub2FzdC52dWUnCmltcG9ydCBGZWVkYmFja1N1Y2Nlc3MgZnJvbSAnLi9GZWVkYmFja1N1Y2Nlc3NUb2FzdC52dWUnCgpjb25zdCBTVEFUVVMgPSB7CiAgTk9ORTogMCwKICBHT09EOiAxLAogIEJBRDogMgp9OwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSWNvbkZvbnQsCiAgICBDaGVja2JveEdyb3VwLAogICAgRmVlZGJhY2tUb2FzdCwKICAgIEZlZWRiYWNrU3VjY2VzcwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXR1czogU1RBVFVTLk5PTkUsCiAgICAgIGJhZFJlYXNvbnM6IFtdLAogICAgICBjdXN0b21SZWFzb246ICIiLAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBzdWJtaXREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgaXNTaG93RmVlZGJhY2tGb3JtVG9hc3Q6IGZhbHNlLAogICAgICBpc1Nob3dGZWVkYmFja1N1Y2Nlc3NUb2FzdDogZmFsc2UsCiAgICAgIGZlZWRiYWNrVHlwZTogJ2dvb2QnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIFNUQVRVUygpIHsKICAgICAgcmV0dXJuIFNUQVRVUzsKICAgIH0sCiAgICBmZWVkYmFja0NvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHRoZW1lTG9jYWxlQ29uZmlnLmZlZWRiYWNrOwogICAgfSwKICAgIGZlZWRiYWNrVG9hc3RTdHlsZXMgKCkgewogICAgICBjb25zdCBjbGllbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aAogICAgICByZXR1cm4gY2xpZW50V2lkdGggPj0gMTA2MAogICAgICAgID8gJ3RvcDogMjBweDsgbGVmdDogNXB4JwogICAgICAgIDogJ3Bvc2l0aW9uOiBmaXhlZDsgdG9wOiA1MCU7IGxlZnQ6IDUwJTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSknCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXIgKCkgewogICAgICAgIHRoaXMuc3RhdHVzID0gMAogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5yZWdpc3RUb2FzdFN0YXR1c0V2ZW50KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZlZWRiYWNrKHBhcmFtcykgewogICAgICBmZWlzaHVGZWVkYmFjayhwYXJhbXMpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuaXNTaG93RmVlZGJhY2tTdWNjZXNzVG9hc3QgPSB0cnVlCiAgICAgIH0pOwogICAgICB0aGlzLmlzU2hvd0ZlZWRiYWNrRm9ybVRvYXN0ID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlRmVlZGJhY2soc3RhdHVzKSB7CiAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzCiAgICAgIHRoaXMuZmVlZGJhY2tUeXBlID0gc3RhdHVzID09PSAxID8gJ2dvb2QnIDogJ2JhZCcKICAgICAgdGhpcy5pc1Nob3dGZWVkYmFja0Zvcm1Ub2FzdCA9IHRydWUKICAgIH0sCiAgICBoaWRlRmVlZGJhY2tTdWNjZXNzVG9hc3QgKCkgewogICAgICB0aGlzLmlzU2hvd0ZlZWRiYWNrU3VjY2Vzc1RvYXN0ID0gZmFsc2UKICAgIH0sCiAgICByZWdpc3RUb2FzdFN0YXR1c0V2ZW50ICgpIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHsKICAgICAgICB0aGlzLmlzU2hvd0ZlZWRiYWNrRm9ybVRvYXN0ID0gZmFsc2UKICAgICAgICB0aGlzLmlzU2hvd0ZlZWRiYWNrU3VjY2Vzc1RvYXN0ID0gZmFsc2UKICAgICAgfSkKICAgICAgdGhpcy4kcmVmcy5mZWVkYmFja1NtYWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKQogICAgICB9KQogICAgfQogIH0KfTsK"},{"version":3,"sources":["FeedbackSmall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FeedbackSmall.vue","sourceRoot":"docs/.vuepress/theme/components","sourcesContent":["<template>\n  <div class=\"feedback-small\" ref=\"feedbackSmall\">\n    <v-popover placement=\"bottom-end\">\n      <button\n        @click=\"handleFeedback(STATUS.GOOD)\"\n        :class=\"[\n          'feedback-btn',\n          'good',\n          {\n            active: status === STATUS.GOOD\n          }\n        ]\"\n      >\n        <!-- <IconFont v-if=\"status === STATUS.GOOD\" type=\"authing-good-\" /> -->\n        <IconFont\n          :type=\"status === STATUS.GOOD ? 'authing-good-' : 'authing-good'\"\n        />\n      </button>\n    </v-popover>\n\n    <v-popover placement=\"bottom-end\">\n      <button\n        @click=\"handleFeedback(STATUS.BAD)\"\n        :class=\"[\n          'feedback-btn',\n          'bad',\n          {\n            active: status === STATUS.BAD\n          }\n        ]\"\n      >\n        <!-- <IconFont v-if=\"status === STATUS.BAD\" type=\"authing-good-\" /> -->\n        <IconFont\n          :type=\"status === STATUS.BAD ? 'authing-good-' : 'authing-good'\"\n        />\n      </button>\n    </v-popover>\n\n    <FeedbackToast\n      :type=\"feedbackType\"\n      v-model=\"isShowFeedbackFormToast\"\n      @success=\"submitFeedback\"\n      :styles=\"feedbackToastStyles\">\n    </FeedbackToast>\n\n    <FeedbackSuccess\n      v-model=\"isShowFeedbackSuccessToast\"\n      @hide=\"hideFeedbackSuccessToast\"\n      :styles=\"feedbackToastStyles\">\n    </FeedbackSuccess>\n  </div>\n</template>\n\n<script>\nimport IconFont from \"@theme/components/IconFont/index.vue\";\nimport { feishuFeedback } from \"@theme/util/feishu\";\nimport CheckboxGroup from \"@theme/components/CheckboxGroup.vue\";\nimport FeedbackToast from './FeedbackFormToast.vue'\nimport FeedbackSuccess from './FeedbackSuccessToast.vue'\n\nconst STATUS = {\n  NONE: 0,\n  GOOD: 1,\n  BAD: 2\n};\nexport default {\n  components: {\n    IconFont,\n    CheckboxGroup,\n    FeedbackToast,\n    FeedbackSuccess\n  },\n  data() {\n    return {\n      status: STATUS.NONE,\n      badReasons: [],\n      customReason: \"\",\n      submitted: false,\n      submitDialogVisible: false,\n      isShowFeedbackFormToast: false,\n      isShowFeedbackSuccessToast: false,\n      feedbackType: 'good'\n    };\n  },\n  computed: {\n    STATUS() {\n      return STATUS;\n    },\n    feedbackConfig() {\n      return this.$themeLocaleConfig.feedback;\n    },\n    feedbackToastStyles () {\n      const clientWidth = document.documentElement.clientWidth\n      return clientWidth >= 1060\n        ? 'top: 20px; left: 5px'\n        : 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%)'\n    }\n  },\n  watch: {\n    $route: {\n      handler () {\n        this.status = 0\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  mounted () {\n    this.registToastStatusEvent()\n  },\n  methods: {\n    submitFeedback(params) {\n      feishuFeedback(params).then(() => {\n        this.isShowFeedbackSuccessToast = true\n      });\n      this.isShowFeedbackFormToast = false;\n    },\n    handleFeedback(status) {\n      this.status = status\n      this.feedbackType = status === 1 ? 'good' : 'bad'\n      this.isShowFeedbackFormToast = true\n    },\n    hideFeedbackSuccessToast () {\n      this.isShowFeedbackSuccessToast = false\n    },\n    registToastStatusEvent () {\n      document.addEventListener('click', e => {\n        this.isShowFeedbackFormToast = false\n        this.isShowFeedbackSuccessToast = false\n      })\n      this.$refs.feedbackSmall.addEventListener('click', e => {\n        e.stopPropagation()\n      })\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.feedback-small\n  position relative\n  display: inline-flex\n  margin-left: 16px\n  .feedback-btn\n    display inline\n    cursor pointer\n    font-size 14px\n    color #4E5969\n    font-weight: 800\n    border: 0\n    background: transparent\n    .icon\n      width: 14px\n      height: 14px\n    &.active\n      color $accentColor\n    &.bad\n      .icon\n        transform rotate(180deg)\n    &:focus\n      outline none\n    // &:first-of-type\n    //   margin-left 15px\n    // &:not(:first-of-type)\n    //   // border-left none\n    //   border-bottom-left-radius 0\n    //   border-top-left-radius 0\n    // &:not(:last-of-type)\n    //   border-bottom-right-radius 0\n    //   border-top-right-radius 0\n\n  .feedback-title\n    font-size 16px\n    font-weight 400\n    color #1D2129\n    line-height 26px\n    margin 0\n.feedback-help\n  color #6D7278\n  margin-top 14px\n  margin-bottom 0\n  font-size 12px\n  float: right;\n  clear: both;\n.bad-reason\n  overflow: hidden\n  .authing-checkbox-item\n    margin: 0 49px 9px 0\n    flex-grow 0\n    width auto\n  .authing-checkbox\n    display block\n  .bad-reason-title\n    color #6D7278\n    margin 0\n    margin-bottom 17px\n    font-size: 14px\n    font-weight normal\n.feedback-success,.bad-reason\n  z-index: 8888;\n  background: #FFFFFF;\n  border: 1px solid #E5E6EB;\n  box-shadow: 0px 16px 32px -10px rgba(4, 24, 115, 0.1);\n  border-radius: 4px;\n  width: 352px;\n  // background: #F8FAFC;\n  padding 24px\n.feedback-success-icon\n  color $accentColor\n  margin-right 1em\n  flex-shrink 0\n.authing-custom-feedback\n  width 100%\n  height 90px\n  min-height: 90px\n  max-height: 300px\n  background: #F2F3F5;\n  border-radius: 2px;\n  border 1px solid #EEEEEE\n  font-size 14px\n  padding 14px 20px\n  margin-top 25px\n  resize vertical\n\n  box-sizing border-box\n  &:focus\n    outline none\n.submit-feedback-btn\n  float right\n  background-color $accentColor\n  background $accentColor\n  border-radius 4px\n  height 28px\n  line-height 28px\n  width 64px\n  margin-top 14px\n  color #fff\n  font-size 14px\n  outline none\n  border none\n  cursor pointer\n  &:focus\n    outline none\n    border none\n  &:hover\n    background-color #2e55cc\n\n@media (max-width: $MQMobile)\n  .feedback\n    .feedback-action-container\n      flex-wrap wrap\n      .feedback-title\n        width 100%\n      .feedback-btn\n        margin-top 14px\n        &:first-of-type\n          margin-left 0\n</style>\n"]}]}