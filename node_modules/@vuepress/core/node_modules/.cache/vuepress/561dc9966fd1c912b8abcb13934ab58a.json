{"remainingRequest":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/SearchInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/SearchInput.vue","mtime":1665743702874},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js","mtime":1654776219463},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js","mtime":1654776219582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3poYW95aW1pbmcvRGVza3RvcC9naXRodWIvZG9jcy12My9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pcy1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1hdGNoUXVlcnkgZnJvbSAiQHRoZW1lL3V0aWwvbWF0Y2hRdWVyeSI7CmltcG9ydCB7IHRyYW5zZm9ybUludGVycG9sYXRpb24gfSBmcm9tICJAdGhlbWUvdXRpbCI7Ci8qIGdsb2JhbCBTRUFSQ0hfTUFYX1NVR0dFU1RJT05TLCBTRUFSQ0hfUEFUSFMsIFNFQVJDSF9IT1RLRVlTICovCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlYXJjaEJveCIsCiAgcHJvcHM6IHsKICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeTogIiIsCiAgICAgIGZvY3VzZWQ6IGZhbHNlLAogICAgICBmb2N1c0luZGV4OiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dTdWdnZXN0aW9uczogZnVuY3Rpb24gc2hvd1N1Z2dlc3Rpb25zKCkgewogICAgICByZXR1cm4gdGhpcy5mb2N1c2VkICYmIHRoaXMuc3VnZ2VzdGlvbnMgJiYgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGg7CiAgICB9LAogICAgc3VnZ2VzdGlvbnM6IGZ1bmN0aW9uIHN1Z2dlc3Rpb25zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTsKCiAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBwYWdlcyA9IHRoaXMuJHNpdGUucGFnZXM7CiAgICAgIHBhZ2VzID0gcGFnZXMgLy8gVE9ETzog5pqC5pe26ZqQ6JeP5byA5Y+R6ZuG5oiQIOaWsOeJiOmhtemdoiByZWZlcmVuY2UtbmV3IOmakOiXj+aXp+eJiCBndWFyZAogICAgICAuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuICEoaXRlbS5wYXRoLmluY2x1ZGVzKCJyZWZlcmVuY2UtbmV3LyIpIHx8IGl0ZW0ucGF0aC5pbmNsdWRlcygiL3JlZmVyZW5jZS9ndWFyZC8iKSAmJiAhKGl0ZW0ucGF0aC5pbmNsdWRlcygidjMiKSB8fCBpdGVtLnBhdGggPT09ICIvcmVmZXJlbmNlL2d1YXJkL3YyLyIpKTsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgICB0aXRsZTogdHJhbnNmb3JtSW50ZXJwb2xhdGlvbihpdGVtLnRpdGxlLCBfdGhpcyksCiAgICAgICAgICBoZWFkZXJzOiBpdGVtLmhlYWRlcnMgJiYgaXRlbS5oZWFkZXJzLm1hcChmdW5jdGlvbiAoaGVhZGVyKSB7CiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGhlYWRlciksIHt9LCB7CiAgICAgICAgICAgICAgdGl0bGU6IHRyYW5zZm9ybUludGVycG9sYXRpb24oaGVhZGVyLnRpdGxlLCBfdGhpcykKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdmFyIG1heCA9IHRoaXMuJHNpdGUudGhlbWVDb25maWcuc2VhcmNoTWF4U3VnZ2VzdGlvbnMgfHwgU0VBUkNIX01BWF9TVUdHRVNUSU9OUzsKICAgICAgdmFyIGxvY2FsZVBhdGggPSB0aGlzLiRsb2NhbGVQYXRoOwogICAgICB2YXIgcmVzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHJlcy5sZW5ndGggPj0gbWF4KSBicmVhazsKICAgICAgICB2YXIgcCA9IHBhZ2VzW2ldOyAvLyBmaWx0ZXIgb3V0IHJlc3VsdHMgdGhhdCBkbyBub3QgbWF0Y2ggY3VycmVudCBsb2NhbGUKCiAgICAgICAgaWYgKHRoaXMuZ2V0UGFnZUxvY2FsZVBhdGgocCkgIT09IGxvY2FsZVBhdGgpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gZmlsdGVyIG91dCByZXN1bHRzIHRoYXQgZG8gbm90IG1hdGNoIHNlYXJjaGFibGUgcGF0aHMKCgogICAgICAgIGlmICghdGhpcy5pc1NlYXJjaGFibGUocCkpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1hdGNoUXVlcnkocXVlcnksIHApKSB7CiAgICAgICAgICByZXMucHVzaChwKTsKICAgICAgICB9IGVsc2UgaWYgKHAuaGVhZGVycykgewogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwLmhlYWRlcnMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPj0gbWF4KSBicmVhazsKICAgICAgICAgICAgdmFyIGggPSBwLmhlYWRlcnNbal07CgogICAgICAgICAgICBpZiAoaC50aXRsZSAmJiBtYXRjaFF1ZXJ5KHF1ZXJ5LCBwLCBoLnRpdGxlKSkgewogICAgICAgICAgICAgIHJlcy5wdXNoKE9iamVjdC5hc3NpZ24oe30sIHAsIHsKICAgICAgICAgICAgICAgIHBhdGg6IHAucGF0aCArICIjIiArIGguc2x1ZywKICAgICAgICAgICAgICAgIGhlYWRlcjogaAogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlczsKICAgIH0sCiAgICAvLyBtYWtlIHN1Z2dlc3Rpb25zIGFsaWduIHJpZ2h0IHdoZW4gdGhlcmUgYXJlIG5vdCBlbm91Z2ggaXRlbXMKICAgIGFsaWduUmlnaHQ6IGZ1bmN0aW9uIGFsaWduUmlnaHQoKSB7CiAgICAgIHZhciBuYXZDb3VudCA9ICh0aGlzLiRzaXRlLnRoZW1lQ29uZmlnLm5hdiB8fCBbXSkubGVuZ3RoOwogICAgICB2YXIgcmVwbyA9IHRoaXMuJHNpdGUucmVwbyA/IDEgOiAwOwogICAgICByZXR1cm4gbmF2Q291bnQgKyByZXBvIDw9IDI7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMub25Ib3RrZXkpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLCB0aGlzLm9uSG90a2V5KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFBhZ2VMb2NhbGVQYXRoOiBmdW5jdGlvbiBnZXRQYWdlTG9jYWxlUGF0aChwYWdlKSB7CiAgICAgIGZvciAodmFyIGxvY2FsZVBhdGggaW4gdGhpcy4kc2l0ZS5sb2NhbGVzIHx8IHt9KSB7CiAgICAgICAgaWYgKGxvY2FsZVBhdGggIT09ICIvIiAmJiBwYWdlLnBhdGguaW5kZXhPZihsb2NhbGVQYXRoKSA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGxvY2FsZVBhdGg7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gIi8iOwogICAgfSwKICAgIGlzU2VhcmNoYWJsZTogZnVuY3Rpb24gaXNTZWFyY2hhYmxlKHBhZ2UpIHsKICAgICAgdmFyIHNlYXJjaFBhdGhzID0gU0VBUkNIX1BBVEhTOyAvLyBhbGwgcGF0aHMgc2VhcmNoYWJsZXMKCiAgICAgIGlmIChzZWFyY2hQYXRocyA9PT0gbnVsbCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBzZWFyY2hQYXRocyA9IEFycmF5LmlzQXJyYXkoc2VhcmNoUGF0aHMpID8gc2VhcmNoUGF0aHMgOiBuZXcgQXJyYXkoc2VhcmNoUGF0aHMpOwogICAgICByZXR1cm4gc2VhcmNoUGF0aHMuZmlsdGVyKGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgICAgcmV0dXJuIHBhZ2UucGF0aC5tYXRjaChwYXRoKTsKICAgICAgfSkubGVuZ3RoID4gMDsKICAgIH0sCiAgICBvbkhvdGtleTogZnVuY3Rpb24gb25Ib3RrZXkoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LnNyY0VsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkgJiYgU0VBUkNIX0hPVEtFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkgewogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CiAgICB9LAogICAgb25VcDogZnVuY3Rpb24gb25VcCgpIHsKICAgICAgaWYgKHRoaXMuc2hvd1N1Z2dlc3Rpb25zKSB7CiAgICAgICAgaWYgKHRoaXMuZm9jdXNJbmRleCA+IDApIHsKICAgICAgICAgIHRoaXMuZm9jdXNJbmRleC0tOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmZvY3VzSW5kZXggPSB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCAtIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb25Eb3duOiBmdW5jdGlvbiBvbkRvd24oKSB7CiAgICAgIGlmICh0aGlzLnNob3dTdWdnZXN0aW9ucykgewogICAgICAgIGlmICh0aGlzLmZvY3VzSW5kZXggPCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHRoaXMuZm9jdXNJbmRleCsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmZvY3VzSW5kZXggPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdvOiBmdW5jdGlvbiBnbyhpKSB7CiAgICAgIGlmICghdGhpcy5zaG93U3VnZ2VzdGlvbnMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuc3VnZ2VzdGlvbnNbaV0ucGF0aCk7CiAgICAgIHRoaXMucXVlcnkgPSAiIjsKICAgICAgdGhpcy5mb2N1c0luZGV4ID0gMDsKICAgIH0sCiAgICBmb2N1czogZnVuY3Rpb24gZm9jdXMoaSkgewogICAgICB0aGlzLmZvY3VzSW5kZXggPSBpOwogICAgfSwKICAgIHVuZm9jdXM6IGZ1bmN0aW9uIHVuZm9jdXMoKSB7CiAgICAgIHRoaXMuZm9jdXNJbmRleCA9IC0xOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AAEA;;AACA;EACAA,iBADA;EAGAC;IACAC;EADA,CAHA;EAOAC,IAPA,kBAOA;IACA;MACAC,SADA;MAEAC,cAFA;MAGAC;IAHA;EAKA,CAbA;EAeAC;IACAC,eADA,6BACA;MACA;IACA,CAHA;IAKAC,WALA,yBAKA;MAAA;;MACA;;MACA;QACA;MACA;;MAEA;MACAC,cACA;MADA,CAEAC,MAFA,CAGA;QAAA,OACA,0CAEAC,2CACA,EACAA,gEADA,CAHA,CADA;MAAA,CAHA,EAYAC,GAZA,CAYA;QACA,uCACAD,IADA;UAEAE,gDAFA;UAGAC,SACAH,gBACAA;YAAA,uCACAI,MADA;cAEAF;YAFA;UAAA;QALA;MAUA,CAvBA;MAwBA,UACA,qEADA;MAGA;MACA;;MACA;QACA;QACA,iBAFA,CAGA;;QACA;UACA;QACA,CANA,CAQA;;;QACA;UACA;QACA;;QAEA;UACAG;QACA,CAFA,MAEA;UACA;YACA;YACA;;YACA;cACAA,SACAC;gBACAC,2BADA;gBAEAH;cAFA,EADA;YAMA;UACA;QACA;MACA;;MACA;IACA,CAxEA;IA0EA;IACAI,UA3EA,wBA2EA;MACA;MACA;MACA;IACA;EA/EA,CAfA;EAiGAC,OAjGA,qBAiGA;IACAC;EACA,CAnGA;EAqGAC,aArGA,2BAqGA;IACAD;EACA,CAvGA;EAyGAE;IACAC,iBADA,6BACAC,IADA,EACA;MACA;QACA;UACA;QACA;MACA;;MACA;IACA,CARA;IAUAC,YAVA,wBAUAD,IAVA,EAUA;MACA,+BADA,CAGA;;MACA;QACA;MACA;;MAEAE,2CACAA,WADA,GAEA,sBAFA;MAIA,OACAA;QACA;MACA,CAFA,EAEAC,MAFA,GAEA,CAHA;IAKA,CA3BA;IA6BAC,QA7BA,oBA6BAC,KA7BA,EA6BA;MACA,IACAA,sCACAC,kCAFA,EAGA;QACA;QACAD;MACA;IACA,CArCA;IAuCAE,IAvCA,kBAuCA;MACA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA;IACA,CA/CA;IAiDAC,MAjDA,oBAiDA;MACA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA;IACA,CAzDA;IA2DAC,EA3DA,cA2DAC,CA3DA,EA2DA;MACA;QACA;MACA;;MACA;MACA;MACA;IACA,CAlEA;IAoEAC,KApEA,iBAoEAD,CApEA,EAoEA;MACA;IACA,CAtEA;IAwEAE,OAxEA,qBAwEA;MACA;IACA;EA1EA;AAzGA","names":["name","props","placeholder","data","query","focused","focusIndex","computed","showSuggestions","suggestions","pages","filter","item","map","title","headers","header","res","Object","path","alignRight","mounted","document","beforeDestroy","methods","getPageLocalePath","page","isSearchable","searchPaths","length","onHotkey","event","SEARCH_HOTKEYS","onUp","onDown","go","i","focus","unfocus"],"sourceRoot":"docs/.vuepress/theme/components","sources":["SearchInput.vue"],"sourcesContent":["<template>\n  <div class=\"authing-search-box\">\n    <input\n      ref=\"input\"\n      aria-label=\"Search\"\n      :value=\"query\"\n      :class=\"{ focused: focused }\"\n      :placeholder=\"placeholder\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      @input=\"query = $event.target.value\"\n      @focus=\"focused = true\"\n      @keyup.enter=\"go(focusIndex)\"\n      @keyup.up=\"onUp\"\n      @keyup.down=\"onDown\"\n      @blur=\"focused = false\"\n    />\n    <div\n      v-if=\"showSuggestions\"\n      class=\"suggestions\"\n      :class=\"{ 'align-right': alignRight }\"\n      @mouseleave=\"unfocus\"\n    >\n      <ul>\n        <li\n          v-for=\"(s, i) in suggestions\"\n          :key=\"i\"\n          class=\"suggestion\"\n          :class=\"{ focused: i === focusIndex }\"\n          @mousedown=\"go(i)\"\n          @mouseenter=\"focus(i)\"\n        >\n          <a :href=\"s.path\" @click.prevent>\n            <span class=\"page-title\">{{ s.title || s.path }}</span>\n            <span v-if=\"s.header\" class=\"header\">&gt; {{ s.header.title }}</span>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport matchQuery from \"@theme/util/matchQuery\";\nimport { transformInterpolation } from \"@theme/util\";\n\n/* global SEARCH_MAX_SUGGESTIONS, SEARCH_PATHS, SEARCH_HOTKEYS */\nexport default {\n  name: \"SearchBox\",\n\n  props: {\n    placeholder: String\n  },\n\n  data() {\n    return {\n      query: \"\",\n      focused: false,\n      focusIndex: 0\n    };\n  },\n\n  computed: {\n    showSuggestions() {\n      return this.focused && this.suggestions && this.suggestions.length;\n    },\n\n    suggestions() {\n      const query = this.query.trim().toLowerCase();\n      if (!query) {\n        return;\n      }\n\n      let { pages } = this.$site;\n      pages = pages\n        // TODO: 暂时隐藏开发集成 新版页面 reference-new 隐藏旧版 guard\n        .filter(\n          item =>\n            !(item.path.includes(\"reference-new/\") ||\n            (\n              item.path.includes(\"/reference/guard/\") &&\n              !(\n                item.path.includes(\"v3\") || item.path === \"/reference/guard/v2/\"\n              )\n            ))\n        )\n        .map(item => {\n          return {\n            ...item,\n            title: transformInterpolation(item.title, this),\n            headers:\n              item.headers &&\n              item.headers.map(header => ({\n                ...header,\n                title: transformInterpolation(header.title, this)\n              }))\n          };\n        });\n      const max =\n        this.$site.themeConfig.searchMaxSuggestions || SEARCH_MAX_SUGGESTIONS;\n\n      const localePath = this.$localePath;\n      const res = [];\n      for (let i = 0; i < pages.length; i++) {\n        if (res.length >= max) break;\n        const p = pages[i];\n        // filter out results that do not match current locale\n        if (this.getPageLocalePath(p) !== localePath) {\n          continue;\n        }\n\n        // filter out results that do not match searchable paths\n        if (!this.isSearchable(p)) {\n          continue;\n        }\n\n        if (matchQuery(query, p)) {\n          res.push(p);\n        } else if (p.headers) {\n          for (let j = 0; j < p.headers.length; j++) {\n            if (res.length >= max) break;\n            const h = p.headers[j];\n            if (h.title && matchQuery(query, p, h.title)) {\n              res.push(\n                Object.assign({}, p, {\n                  path: p.path + \"#\" + h.slug,\n                  header: h\n                })\n              );\n            }\n          }\n        }\n      }\n      return res;\n    },\n\n    // make suggestions align right when there are not enough items\n    alignRight() {\n      const navCount = (this.$site.themeConfig.nav || []).length;\n      const repo = this.$site.repo ? 1 : 0;\n      return navCount + repo <= 2;\n    }\n  },\n\n  mounted() {\n    document.addEventListener(\"keydown\", this.onHotkey);\n  },\n\n  beforeDestroy() {\n    document.removeEventListener(\"keydown\", this.onHotkey);\n  },\n\n  methods: {\n    getPageLocalePath(page) {\n      for (const localePath in this.$site.locales || {}) {\n        if (localePath !== \"/\" && page.path.indexOf(localePath) === 0) {\n          return localePath;\n        }\n      }\n      return \"/\";\n    },\n\n    isSearchable(page) {\n      let searchPaths = SEARCH_PATHS;\n\n      // all paths searchables\n      if (searchPaths === null) {\n        return true;\n      }\n\n      searchPaths = Array.isArray(searchPaths)\n        ? searchPaths\n        : new Array(searchPaths);\n\n      return (\n        searchPaths.filter(path => {\n          return page.path.match(path);\n        }).length > 0\n      );\n    },\n\n    onHotkey(event) {\n      if (\n        event.srcElement === document.body &&\n        SEARCH_HOTKEYS.includes(event.key)\n      ) {\n        this.$refs.input.focus();\n        event.preventDefault();\n      }\n    },\n\n    onUp() {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--;\n        } else {\n          this.focusIndex = this.suggestions.length - 1;\n        }\n      }\n    },\n\n    onDown() {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++;\n        } else {\n          this.focusIndex = 0;\n        }\n      }\n    },\n\n    go(i) {\n      if (!this.showSuggestions) {\n        return;\n      }\n      this.$router.push(this.suggestions[i].path);\n      this.query = \"\";\n      this.focusIndex = 0;\n    },\n\n    focus(i) {\n      this.focusIndex = i;\n    },\n\n    unfocus() {\n      this.focusIndex = -1;\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n.authing-search-box\n  position relative\n  height: 2rem\n  width 10rem\n  box-sizing border-box\n  input\n    cursor text\n    width 100%\n    height 100%\n    box-sizing border-box\n    color lighten($textColor, 25%)\n    display inline-block\n    border-radius 4px\n    font-size 0.9rem\n    line-height 2rem\n    padding 0 0.5rem 0 2rem\n    outline none\n    transition all .2s ease\n    background #F2F3F5 url(../assets/images/search.svg) 0.6rem 50% no-repeat\n    background-size 1rem\n    border 1px solid transparent\n    &::-webkit-input-placeholder\n      color #86909C\n    &:focus\n      border-color $accentColor\n      background-color: #fff\n      border: 1px solid $accentColor\n      cursor auto\n  .suggestions\n    background #fff\n    width 300px\n    position absolute\n    top 2.5rem\n    max-height 300px\n    border: 1px solid #eeeeee\n    box-shadow: 0px 16px 32px -10px rgba(4, 24, 115, 0.1)\n    overflow hidden\n    // border 1px solid darken(#ddd, 10%)\n    // box-shadow 0 3px 6px -4px rgb(0 0 0 / 12%), 0 6px 16px 0 rgb(0 0 0 / 8%), 0 9px 28px 8px rgb(0 0 0 / 5%)\n    border-radius 6px\n    padding 0.4rem 0\n    z-index: 9999\n    box-sizing border-box\n    ul\n      margin 0\n      padding 0\n      max-height 300px\n      // width 100%\n      overflow-y auto\n      list-style-type none\n    li\n      position: relative\n      padding: 16px 24px !important\n      border-radius: 0\n      &::after\n        content: ''\n        position: absolute\n        left: 24px\n        right: 24px\n        bottom: 0\n        height: 1px\n        display: inline-block\n        background: #ddd\n\n    &.align-right\n      right 0\n  .suggestion\n    line-height 1.4\n    padding 0.4rem 0.6rem\n    border-radius 4px\n    cursor pointer\n    a\n      white-space normal\n      color lighten($textColor, 35%)\n      .page-title\n        font-weight 600\n      .header\n        font-size 0.9em\n        margin-left 0.25em\n    &.focused\n      background-color #f3f4f5\n      a\n        color $accentColor\n  & .suggestion:last-child::after {\n    display: none\n  }\n\n@media (max-width: $MQNarrow)\n  .search-box\n    input\n      cursor pointer\n      width 0\n      border-color transparent\n      position relative\n      &:focus\n        cursor text\n        left 0\n        width 10rem\n\n// Match IE11\n@media all and (-ms-high-contrast: none)\n  .search-box input\n    height 2rem\n\n@media (max-width: $MQNarrow) and (min-width: $MQMobile)\n  .search-box\n    .suggestions\n      left 0\n\n@media (max-width: $MQMobile)\n  .search-box\n    margin-right 0\n    input\n      left 1rem\n    .suggestions\n      right 0\n\n@media (max-width: $MQMobileNarrow)\n  .search-box\n    input:focus\n      width 8rem\n@media (max-width: $MQMobile)\n  .suggestions\n    width 100% !important\n</style>\n"]}]}