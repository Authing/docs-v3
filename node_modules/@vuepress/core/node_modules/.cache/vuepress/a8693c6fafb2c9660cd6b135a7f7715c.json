{"remainingRequest":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/FeedbackFormToast.vue?vue&type=script&scoped=true&lang=js&","dependencies":[{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/docs/.vuepress/theme/components/FeedbackFormToast.vue","mtime":1656474813996},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/babel-loader/lib/index.js","mtime":1654776219463},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/cache-loader/dist/cjs.js","mtime":1640086848432},{"path":"/Users/zhaoyiming/Desktop/github/docs-v3/node_modules/vue-loader/lib/index.js","mtime":1654776219582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmZ1bmN0aW9uIGNyZWF0ZVJlYXNvbnMoKSB7CiAgcmV0dXJuIFsKICAgIHsKICAgICAgdmFsdWU6ICJBIiwKICAgICAgZGVzYzogIuayoeaJvuWIsOaDs+S6huino+eahOS/oeaBryIKICAgIH0sCiAgICB7CiAgICAgIHZhbHVlOiAiQiIsCiAgICAgIGRlc2M6ICLmraXpqqTor7TmmI7kuI3muIXmmbAv55yL5LiN5oeCIgogICAgfSwKICAgIHsKICAgICAgdmFsdWU6ICJDIiwKICAgICAgZGVzYzogIuWGheWuueaciemUmSIKICAgIH0sCiAgICB7CiAgICAgIHZhbHVlOiAiRCIsCiAgICAgIGRlc2M6ICLlhbbku5YiCiAgICB9CiAgXTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gImdvb2QiOwogICAgICB9LAogICAgICB2YWxpZGF0b3IodmFsdWUpIHsKICAgICAgICByZXR1cm4gWyJnb29kIiwgImJhZCJdLmluY2x1ZGVzKHZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc3R5bGVzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZShuZXdWYWwpIHsKICAgICAgbmV3VmFsICYmIHRoaXMucmVzZXRTdGF0ZXMoKTsKICAgIH0sCiAgICB0eXBlKCkgewogICAgICB0aGlzLnJlc2V0U3RhdGVzKCk7CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVhc29uczogY3JlYXRlUmVhc29ucygpLAogICAgICBzZWxlY3RlZFJlYXNvbnM6IFtdLAogICAgICBjdXN0b21SZWFzb246ICIiLAogICAgICBmb2N1c2VkOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0ZXh0YXJlYVBsYWNlaG9sZGVyKCkgewogICAgICBjb25zdCBtYXAgPSB7CiAgICAgICAgZ29vZDogIuS9oOeahOW7uuiuruS8muiuqeaIkeS7rOWBmueahOabtOWlvS4uLiIsCiAgICAgICAgYmFkOiAi5o+P6L+w5YW35L2T6Zeu6aKYLi4uIgogICAgICB9OwogICAgICByZXR1cm4gbWFwW3RoaXMudHlwZV0gfHwgIiI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQoKSB7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBoZWxwZnVsOiB0aGlzLnR5cGUgPT09ICJnb29kIiwKICAgICAgICBkb2NUaXRsZTogdGhpcy4kcGFnZS50aXRsZSwKICAgICAgICBkb2NVcmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLAogICAgICAgIGN1c3RvbVJlYXNvbjogdGhpcy54c3NDaGVjayh0aGlzLmN1c3RvbVJlYXNvbikKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJiYWQiKSB7CiAgICAgICAgcGFyYW1zLnJlYXNvbkxpc3QgPSB0aGlzLnNlbGVjdGVkUmVhc29uczsKICAgICAgfQoKICAgICAgdGhpcy4kZW1pdCgic3VjY2VzcyIsIHBhcmFtcyk7CiAgICB9LAogICAgcmVzZXRTdGF0ZXMoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRSZWFzb25zID0gW107CiAgICAgIHRoaXMuY3VzdG9tUmVhc29uID0gIiI7CiAgICB9LAogICAgeHNzQ2hlY2soc3RyLCByZWcpIHsKICAgICAgY29uc3QgbWFwID0gewogICAgICAgICI8IjogIiZsdDsiLAogICAgICAgICImIjogIiZhbXA7IiwKICAgICAgICAnIic6ICImcXVvdDsiLAogICAgICAgICI+IjogIiZndDsiLAogICAgICAgICInIjogIiYjMzk7IgogICAgICB9OwogICAgICByZXR1cm4gc3RyCiAgICAgICAgPyBzdHIucmVwbGFjZSgKICAgICAgICAgICAgcmVnIHx8IC9bJjwiPiddKD86KGFtcHxsdHxxdW90fGd0fCMzOXxuYnNwfCNcZCspOyk/L2csCiAgICAgICAgICAgICgkMCwgJDEpID0+IHsKICAgICAgICAgICAgICByZXR1cm4gJDEgPyAkMCA6IG1hcFskMF07CiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICA6ICIiOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["FeedbackFormToast.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FeedbackFormToast.vue","sourceRoot":"docs/.vuepress/theme/components","sourcesContent":["<template>\n  <div v-if=\"value\" class=\"feedback-toast-container\" :style=\"styles\">\n    <div class=\"title\">\n      <div v-if=\"type === 'good'\">感谢反馈！请问还有其他建议吗？</div>\n      <div v-else-if=\"type === 'bad'\">\n        <span class=\"highlight\">*</span><span>你是否遇到以下问题？</span>\n      </div>\n    </div>\n\n    <div class=\"content\">\n      <div class=\"reasons\" v-if=\"type === 'bad'\">\n        <div class=\"option\" v-for=\"reason in reasons\" :key=\"reason.value\">\n          <input\n            type=\"checkbox\"\n            :id=\"reason.value\"\n            :value=\"reason.desc\"\n            v-model=\"selectedReasons\"\n            class=\"checkbox\"\n          />\n          <label :for=\"reason.value\">{{ reason.desc }}</label>\n        </div>\n      </div>\n\n      <textarea\n        class=\"textarea\"\n        :placeholder=\"textareaPlaceholder\"\n        v-model=\"customReason\"\n        :class=\"{ focused: focused }\"\n        @focus=\"focused = true\"\n        @blur=\"focused = false\"\n      ></textarea>\n    </div>\n\n    <div class=\"feedback-footer\">\n      <div class=\"submit\" @click=\"submit\">提交</div>\n      <div class=\"tips\">\n        如果遇到其他问题，立即<a\n          href=\"https://forum.authing.cn/\"\n          target=\"_blank\"\n          >联系我们</a\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script scoped>\nfunction createReasons() {\n  return [\n    {\n      value: \"A\",\n      desc: \"没找到想了解的信息\"\n    },\n    {\n      value: \"B\",\n      desc: \"步骤说明不清晰/看不懂\"\n    },\n    {\n      value: \"C\",\n      desc: \"内容有错\"\n    },\n    {\n      value: \"D\",\n      desc: \"其他\"\n    }\n  ];\n}\n\nexport default {\n  props: {\n    type: {\n      type: String,\n      default() {\n        return \"good\";\n      },\n      validator(value) {\n        return [\"good\", \"bad\"].includes(value);\n      }\n    },\n    value: {\n      type: Boolean,\n      default() {\n        return false;\n      }\n    },\n    styles: {\n      type: String,\n      default() {\n        return \"\";\n      }\n    }\n  },\n  watch: {\n    value(newVal) {\n      newVal && this.resetStates();\n    },\n    type() {\n      this.resetStates();\n    }\n  },\n  data() {\n    return {\n      reasons: createReasons(),\n      selectedReasons: [],\n      customReason: \"\",\n      focused: false\n    };\n  },\n  computed: {\n    textareaPlaceholder() {\n      const map = {\n        good: \"你的建议会让我们做的更好...\",\n        bad: \"描述具体问题...\"\n      };\n      return map[this.type] || \"\";\n    }\n  },\n  methods: {\n    submit() {\n      const params = {\n        helpful: this.type === \"good\",\n        docTitle: this.$page.title,\n        docUrl: window.location.href,\n        customReason: this.xssCheck(this.customReason)\n      };\n\n      if (this.type === \"bad\") {\n        params.reasonList = this.selectedReasons;\n      }\n\n      this.$emit(\"success\", params);\n    },\n    resetStates() {\n      this.selectedReasons = [];\n      this.customReason = \"\";\n    },\n    xssCheck(str, reg) {\n      const map = {\n        \"<\": \"&lt;\",\n        \"&\": \"&amp;\",\n        '\"': \"&quot;\",\n        \">\": \"&gt;\",\n        \"'\": \"&#39;\"\n      };\n      return str\n        ? str.replace(\n            reg || /[&<\">'](?:(amp|lt|quot|gt|#39|nbsp|#\\d+);)?/g,\n            ($0, $1) => {\n              return $1 ? $0 : map[$0];\n            }\n          )\n        : \"\";\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.feedback-toast-container\n  position absolute\n  z-index 10\n  width 352px\n  left 0\n  top 0\n  background #fff\n  border 1px solid #E5E6EB\n  box-shadow 0px 16px 32px -10px rgba(4, 24, 115, 0.1)\n  border-radius 4px\n  padding 24px 16px\n  box-sizing border-box\n  .title\n    margin-bottom 20px\n    font-weight 500\n    font-size 14px\n    line-height 22px\n    color #000\n    .highlight\n      padding-right 10px\n      box-sizing border-box\n      color #E8353E\n  .content\n    margin-bottom 16px\n    .reasons\n      margin-bottom 16px\n      .option\n        display flex\n        align-items center\n        margin-bottom 9px\n        line-height 22px\n        font-size 14px\n        color #1D2129\n        input[type=\"checkbox\"]\n          position relative\n          margin-right 8px\n          &:focus\n            outline none\n            border none\n          &::before\n            position absolute\n            topp 0\n            left 0\n            width 100%\n            height 100%\n            content \"\"\n            background #FFFFFF\n            border 1px solid #E5E6EB\n            border-radius 2px\n          &:checked::before\n            position absolute\n            top 0\n            left 0\n            content \"\\2713\"\n            display flex\n            align-items center\n            justify-content center\n            background-color #fff\n            width 100%\n            border 1px solid #EFEFEF\n            color #fff\n            font-size 12px\n            background-color #165DFF\n    .textarea\n      max-width 320px\n      width 320px\n      height 90px\n      left 16px\n      top 61px\n      padding 5px 12px\n      box-sizing border-box\n      background #F2F3F5\n      border-radius 2px\n      border none\n      color #1d2129\n      resize none\n      border 1px solid #F2F3F5\n      font-size 14px\n      &:focus\n        outline none\n        border none\n      &.focused\n        background-color #fff\n        border 1px solid #165DFF\n\n  .feedback-footer\n    display flex\n    flex-direction column\n    align-items flex-end\n    .submit\n      margin-bottom 16px\n      width 65px\n      height 28px\n      text-align center\n      line-height 28px\n      background #215AE5\n      font-size 14px\n      color #fff\n      border-radius 4px\n      cursor pointer\n    .tips\n      font-size 12px\n      line-height 20px\n      color #86909C\n</style>\n"]}]}